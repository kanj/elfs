<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      6.5.&nbsp;Build Variables
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="clfs" id="clfs-GIT-0.0.1-20130717-mips">
    <div class="navheader">
      <h4>
        Embedded Linux from Source - Version GIT-0.0.1-20130717-mips
      </h4>
      <h3>
        Chapter&nbsp;6.&nbsp;Constructing Cross-Compile Tools
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="abi.html" title="ABI Variables">Prev</a>
          <p>
            ABI Variables
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="gmp.html" title="GMP-5.0.1">Next</a>
          <p>
            GMP-5.0.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter.html" title=
          "Chapter&nbsp;6.&nbsp;Constructing Cross-Compile Tools">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Embedded Linux from Source - Version GIT-0.0.1-20130717-mips">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="ch-cross-tools-variables" name=
        "ch-cross-tools-variables"></a>6.5. Build Variables
      </h1>
      <div class="host" lang="en" xml:lang="en">
        <h2 class="sect2">
          6.5.1. Set Host
        </h2>
        <p>
          In the process of building the cross-compilation toolchain a local
          toolchain is also created. To avoid confusion with any existing
          native compilation tools the "triplet" for this toolchain has the
          word "cross" embedded into it.
        </p>
        <pre class="userinput">
<kbd class="command">
export CLFS_HOST=$(echo ${MACHTYPE} | sed "s/-[^-]*/-cross/")
echo export CLFS_HOST=\""${CLFS_HOST}\"" &gt;&gt; ~/.bashrc
</kbd>
</pre>
      </div>
      <div class="endianess" lang="en" xml:lang="en">
        <h2 class="sect2">
          6.5.2. Set Endianess
        </h2>
        <p>
          The Endianess of system refers to how numbers are represented. See
          the following wiki entry for additional details: <a class="ulink"
          href=
          "http://en.wikipedia.org/wiki/Endianness">http://en.wikipedia.org/wiki/Endianness</a>
          Based on the selected platform the following setting is
          appropriate:
        </p>
        <pre class="userinput">
<kbd class="command">
export CLFS_ENDIAN=little
echo export CLFS_ENDIAN=\""${CLFS_ENDIAN}\"" &gt;&gt; ~/.bashrc
</kbd>
</pre>
      </div>
      <div class="target" lang="en" xml:lang="en">
        <h2 class="sect2">
          6.5.3. Set Target
        </h2>
        <p>
          During the building of the cross-compile tools, you will need to
          set a few variables that will be dependent on your particular
          needs. You will need to select the target triplet for the target
          architecture, the CPU endianess, the CPU architecture, the CPU
          mode, the CPU floating point hardware availability, and (if
          available) the type of floating point hardware. If you do not know
          what values can be chosen for each of these, you can use the tables
          at the bottom of this page as a reference.
        </p>
      </div>
      <div class="mipsVariables" lang="en" xml:lang="en">
        <h2 class="sect2">
          6.5.4. MIPS specific variables
        </h2>
        <p>
          Now you will need to set the MIPS LEVEL. This determines how your
          GCC and uClibc are built. There are currently 5 MIPS ISA Levels. To
          keep things simple we are only using two. See the following table
          to dsetermine the appropriate level. For more information, see
          <a class="ulink" href=
          "http://www.linux-mips.org/wiki/Instruction_Set_Architecture">http://www.linux-mips.org/wiki/Instruction_Set_Architecture</a>
        </p>
        <pre class="userinput">
<kbd class="command">
export CLFS_MIPS_LEVEL="1"
echo export CLFS_MIPS_LEVEL=\""${CLFS_MIPS_LEVEL}\"" &gt;&gt; ~/.bashrc
</kbd>
</pre>
        <p>
          We also need to select the floating point capability of the CPU.
          That is code built for hardware floating point will always run
          correctly, even on systems without an FPU. Gcc's mips-linux,
          mipsel-linux, mips64-linux and mips64el-linux targets default to
          hardware floating point. If the CPU has built-in hardware for
          performing floating point calculations, choose "hard", otherwise
          choose "soft":
        </p>
        <pre class="userinput">
<kbd class="command">
export CLFS_FLOAT="soft"
echo export CLFS_FLOAT=\""${CLFS_FLOAT}\"" &gt;&gt; ~/.bashrc
</kbd>
</pre>
        <div class="table">
          <a id="idp3753504" name="idp3753504"></a>
          <p class="title">
            <b>Table&nbsp;6.2.&nbsp;Processor Type and Target Triplets</b>
          </p>
          <div class="table-contents">
            <table summary="Processor Type and Target Triplets" border="1">
              <colgroup>
                <col />
                <col />
              </colgroup>
              <thead>
                <tr>
                  <th>
                    Kernel
                  </th>
                  <th>
                    Processor
                  </th>
                  <th>
                    Target Triplet
                  </th>
                  <th>
                    MIPS Level
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    CONFIG_CPU_MIPS32
                  </td>
                  <td>
                    MIPS 32 bits Little Endian
                  </td>
                  <td>
                    mipsel-unknown-linux-uclibc
                  </td>
                  <td>
                    1
                  </td>
                </tr>
                <tr>
                  <td>
                    CONFIG_CPU_MIPS32
                  </td>
                  <td>
                    MIPS 32 bits Big Endian
                  </td>
                  <td>
                    mips-unknown-linux-uclibc
                  </td>
                  <td>
                    1
                  </td>
                </tr>
                <tr>
                  <td>
                    &nbsp;
                  </td>
                  <td>
                    MIPS 64 bits Little Endian
                  </td>
                  <td>
                    mips64el-unknown-linux-uclibc
                  </td>
                  <td>
                    3
                  </td>
                </tr>
                <tr>
                  <td>
                    &nbsp;
                  </td>
                  <td>
                    MIPS 64 bits Big Endian
                  </td>
                  <td>
                    mips64-unknown-linux-uclibc
                  </td>
                  <td>
                    3
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div><br class="table-break" />
        <p>
          Now we will set the target based on the preceeding table:
        </p>
        <pre class="userinput">
<kbd class="command">
export CLFS_TARGET=mipsel-unknown-linux-uclibc
echo export CLFS_TARGET=\""${CLFS_TARGET}\"" &gt;&gt; ~/.bashrc
</kbd>
</pre>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="abi.html" title="ABI Variables">Prev</a>
          <p>
            ABI Variables
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="gmp.html" title="GMP-5.0.1">Next</a>
          <p>
            GMP-5.0.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter.html" title=
          "Chapter&nbsp;6.&nbsp;Constructing Cross-Compile Tools">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Embedded Linux from Source - Version GIT-0.0.1-20130717-mips">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>

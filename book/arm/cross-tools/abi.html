<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      6.4.&nbsp;ABI Variables
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="clfs" id="clfs-GIT-0.0.1-20120922-arm">
    <div class="navheader">
      <h4>
        Embedded Linux from Source - Version GIT-0.0.1-20120922-arm
      </h4>
      <h3>
        Chapter&nbsp;6.&nbsp;Constructing Cross-Compile Tools
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="linux-headers.html" title=
          "Linux-Headers-2.6.38.2">Prev</a>
          <p>
            Linux-Headers-2.6.38.2
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="variables.html" title=
          "Build Variables">Next</a>
          <p>
            Build Variables
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter.html" title=
          "Chapter&nbsp;6.&nbsp;Constructing Cross-Compile Tools">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Embedded Linux from Source - Version GIT-0.0.1-20120922-arm">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="ch-system-abi" name="ch-system-abi"></a>6.4. ABI Variables
      </h1>
      <div class="abi" lang="en" xml:lang="en">
        <h2 class="sect2">
          6.4.1. ABI
        </h2>
        <p>
          An application binary interface (ABI) describes the low-level
          interface between a computer program and the operating system.
          Specifying the ABI is part of the process of fine tuning the
          cross-compilation toolchain for the selected platform. A good
          overview of ABIs is provided by the following wikipedia entry:
          <a class="ulink" href=
          "http://en.wikipedia.org/wiki/Application_binary_interface">http://en.wikipedia.org/wiki/Application_binary_interface</a>
        </p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <h2 class="sect2">
          6.4.2. ARM ABIs
        </h2>
        <p>
          On the ARM architecture, there are two major ABI types to choose
          from: EABI and OABI. There is also a Thumb ABI and an Intel IWMMX
          specific ABI but these are generally not recommended for most uses.
        </p>
        <p>
          The EABI (Embedded ABI) is newer and supports additional features,
          faster software floating point operations, and Thumb interworking,
          but is only compatible with ARMv4t and newer cores. The EABI has
          sub-ABIs of: aapcs-linux and aapcs. aapcs-linux has standard Linux
          4 byte enums while aapcs has variable length enums. aapcs-linux is
          recommended over aapcs.
        </p>
        <p>
          The OABI (old ABI) is called apcs-gnu and supports ARMv4 and older
          cores. Generally the OABI is not used by modern ARM processors.
        </p>
        <p>
          The following table gives the kernel CONFIG variable, found in
          "Kernel Features", versus ABI.
        </p>
        <div class="table">
          <a id="idp3777720" name="idp3777720"></a>
          <p class="title">
            <b>Table&nbsp;6.1.&nbsp;List of Build Variables</b>
          </p>
          <div class="table-contents">
            <table summary="List of Build Variables" border="1">
              <colgroup>
                <col />
                <col />
              </colgroup>
              <thead>
                <tr>
                  <th>
                    Kernel
                  </th>
                  <th>
                    ABI
                  </th>
                  <th>
                    CLFS_ABI=Value
                  </th>
                  <th>
                    Note
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    CONFIG_AEABI
                  </td>
                  <td>
                    aapcs-linux
                  </td>
                  <td>
                    aapcs-linux
                  </td>
                  <td>
                    Recommended for EABI. Standard Linux 32 bit (int) enums
                  </td>
                </tr>
                <tr>
                  <td>
                    &nbsp;
                  </td>
                  <td>
                    apcs-gnu
                  </td>
                  <td>
                    apcs-gnu
                  </td>
                  <td>
                    Recommended for OABI
                  </td>
                </tr>
                <tr>
                  <td>
                    CONFIG_THUMB2_KERNEL
                  </td>
                  <td>
                    atpcs
                  </td>
                  <td>
                    atpcs
                  </td>
                  <td>
                    Thumb ABI
                  </td>
                </tr>
                <tr>
                  <td>
                    &nbsp;
                  </td>
                  <td>
                    aapcs
                  </td>
                  <td>
                    aapcs
                  </td>
                  <td>
                    EABI w/ variable size enums
                  </td>
                </tr>
                <tr>
                  <td>
                    CONFIG_IWMMXT
                  </td>
                  <td>
                    iwmmxt
                  </td>
                  <td>
                    iwmmxt
                  </td>
                  <td>
                    Supports Intel XScale MMX extensions
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div><br class="table-break" />
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <h2 class="sect2">
          6.4.3. Set ABI Variable
        </h2>
        <p>
          Based on a review of the kernel configuration file the following
          setting for CLFS_ABI is appropriate:
        </p>
        <pre class="userinput">
<kbd class="command">
  export CLFS_ABI="apcs-gnu"
  echo export CLFS_ABI=\""${CLFS_ABI}\"" &gt;&gt; ~/.bashrc
    
    </kbd>
</pre>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="linux-headers.html" title=
          "Linux-Headers-2.6.38.2">Prev</a>
          <p>
            Linux-Headers-2.6.38.2
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="variables.html" title=
          "Build Variables">Next</a>
          <p>
            Build Variables
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter.html" title=
          "Chapter&nbsp;6.&nbsp;Constructing Cross-Compile Tools">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Embedded Linux from Source - Version GIT-0.0.1-20120922-arm">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>

<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-cross-tools-linux-headers" role="wrap">
  <?dbhtml filename="linux-headers.html"?>

  <title>Linux-Headers-&linux-version;</title>

  <indexterm zone="ch-cross-tools-linux-headers">
    <primary sortas="a-Linux-Headers">Linux-Headers</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Linux Kernel contains a make target that installs
    <quote>sanitized</quote> kernel headers.</para>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Linux Headers</title>

    <para os="a">For this step you will need the kernel tarball.
    This is the first section that requires knowledge about the 
    development platform, which for this book is the VersatilePB
    (http://www.arm.com/products/tools/development-boards/versatile/index.php ).
    The primary information we need at this time is the architecture (ARCH) for this
    platform. Our first step will be to set the CLFS_ARCH parameter:</para>
    
    <screen os="d"><userinput>
    export CLFS_ARCH=arm
    echo export CLFS_ARCH=\""${CLFS_ARCH}\"" &gt;&gt; ~/.bashrc
    </userinput></screen>
    

    <para os="b">Install the header files that are common to all ARM platforms:</para>

<screen os="c"><userinput>make mrproper
make ARCH=${CLFS_ARCH} headers_check
make ARCH=${CLFS_ARCH} INSTALL_HDR_PATH=dest headers_install
cp -rv dest/include/* ${CLFS}/usr/include</userinput></screen>

 <para os="e">Create a default kernel configuration. This will be used later to determine the 
 settings for other key variables:</para>

<screen os="f"><userinput>
cp arch/arm/configs/versatile_defconfig .config

yes "" | make ARCH=arm oldconfig
cp .config ~/versatile_myconfig 
</userinput></screen>


  </sect2>

  <sect2 id="contents-linux-headers" role="content">
    <title>Contents of Linux-Headers</title>

    <segmentedlist>
      <segtitle>Installed headers</segtitle>

      <seglistitem>
        <seg>/usr/include/{asm,asm-generic,drm,linux,mtd,rdma,scsi,sound,video,xen}/*.h</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="linux-headers">
        <term><filename
        class="headerfile">/usr/include/{asm,asm-generic,drm,linux,mtd,rdma,scsi,sound,video,xen}/*.h</filename></term>
        <listitem>
          <para>The Linux API headers</para>
          <indexterm zone="ch-cross-tools-linux-headers linux-headers">
            <primary
            sortas="e-/usr/include/{asm,linux}/*.h">/usr/include/{asm,linux}/*.h</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
